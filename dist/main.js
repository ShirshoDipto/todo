(()=>{"use strict";class t{constructor(t,e,i){this.title=t,this.todos=e,this.listNumber=i}get getListNumber(){return this.listNumber}set setListNumber(t){this.listNumber=t}get getTitle(){return this.title}get getTodos(){return this.todos}set setTitle(t){this.title=t}set setTodos(t){this.todos=t}addNewList(t){this.todos.push(t)}}class e{constructor(t,e,i,s,o,n,r){this.title=t,this.description=e,this.dueDate=i,this.priority=s,this.listNumber=o,this.completed=n,this.todoNumber=r}get getTodoNumber(){return this.todoNumber}set setTodoNumber(t){this.todoNumber=t}get getIsCompleted(){return this.completed}changeCompleteStatus(){!0===this.completed?this.completed=!1:this.completed=!0}get getListNumber(){return this.listNumber}set setListNumber(t){this.listNumber=t}get getTitle(){return this.title}get getDescription(){return this.description}get getDueDate(){return this.dueDate}get getPriority(){return this.priority}set setTitle(t){this.title=t}set setDescription(t){this.description=t}set setDueDate(t){this.dueDate=t}set setPriority(t){this.priority=t}}let i=[];function s(t){const e=t.firstElementChild;if("active-list"===e.getAttribute("id"))e.removeAttribute("id");else{let t=e.nextElementSibling;for(;;){if("active-list"===t.getAttribute("id")){t.removeAttribute("id");break}t=t.nextElementSibling}}}let o=[];function n(t,e,i){t.setAttribute("list-number",`${e}`),t.firstElementChild.textContent=i}function r(t,e){if(null!==t)for(let i of t)i.getAttribute("list-number")===e?i.removeAttribute("id"):i.setAttribute("id","hide")}function l(t){if("delete"===t.target.classList.value)!function(t){if("a-list"===t.classList.value){const e=t.getAttribute("list-number");d.removeChild(t);const s=Array.from(document.querySelectorAll(".a-list"));let o=Array.from(document.querySelectorAll(".all-todo .a-todo"));!function(t,e,i){for(let s of e)s.getAttribute("list-number")===i&&t.removeChild(s)}(C,o,e),o=Array.from(document.querySelectorAll(".all-todo .a-todo")),function(t,e,s){i.splice(parseInt(e),1);let o=0;for(let e of t)e.removeAttribute("list-number"),e.setAttribute("list-number",`${o}`),o++;let n=0;for(let t=0;t<i.length;t++)if(i[t].setListNumber=t,0!==i[t].getTodos.length){const e=i[t].getListNumber;for(let o of i[t].getTodos){o.setListNumber=t;let i=s[n];i.removeAttribute("list-number"),i.setAttribute("list-number",`${e}`),n++}}}(s,e,o),e===""+(i.length-1)&&r(o,e)}}(this);else{s(d),this.setAttribute("id","active-list");let e=t.target.getAttribute("list-number");n(L,e,this.firstElementChild.lastElementChild.textContent),r(Array.from(document.querySelectorAll(".a-todo")),e)}console.log(i)}let c=new t("My Day",[],0);i.push(c);const d=document.querySelector(".all-list"),u=document.querySelector("#list-name"),a=document.querySelector(".list-form"),m=document.querySelector(".add-new-list"),p=document.querySelector(".new-list-modal"),b=document.querySelector(".add-todo"),h=document.querySelector(".new-todo-modal"),g=document.querySelector(".todo-form"),A=document.querySelector("#todo-name"),f=document.querySelector("#due-date"),v=document.querySelector("#priority"),y=document.querySelector("#description"),C=document.querySelector(".all-todo"),L=document.querySelector(".todo-header"),E=document.querySelector(".all-list .a-list");b.onclick=()=>{h.removeAttribute("id")},m.addEventListener("click",(()=>{p.removeAttribute("id")})),a.onsubmit=function(e){e.preventDefault();let o=new t(u.value,[],i.length);s(d),function(t,e,s){i.push(t);const o=document.createElement("div");o.classList.add("a-list"),o.setAttribute("list-number",`${t.getListNumber}`),o.setAttribute("id","active-list"),e.insertBefore(o,s);const n=document.createElement("div");n.classList.add("left"),o.appendChild(n);const r=document.createElement("div");r.classList.add("right"),o.appendChild(r);const l=document.createElement("img");l.classList.add("icon"),l.setAttribute("src","icons/plus.png"),n.appendChild(l);const c=document.createElement("div");c.classList.add("list-title"),c.textContent=t.getTitle,n.appendChild(c);const d=document.createElement("img");d.classList.add("icon"),d.setAttribute("src","icons/plus.png"),r.appendChild(d);const u=document.createElement("img");u.classList.add("icon"),u.setAttribute("src","icons/plus.png"),r.appendChild(u);const a=document.createElement("img");a.classList.add("icon"),a.setAttribute("src","icons/plus.png"),r.appendChild(a);const m=document.createElement("img");m.classList.add("delete"),m.setAttribute("src","icons/plus.png"),r.appendChild(m)}(o,d,p);const c=Array.from(document.querySelectorAll(".a-todo"));n(L,o.getListNumber,o.getTitle),r(c,o.getListNumber),document.getElementById("active-list").onclick=l,e.target.reset(),p.setAttribute("id","hide"),console.log(i)},a.onreset=()=>{p.setAttribute("id","hide")},g.onsubmit=function(t){t.preventDefault();const s=L.getAttribute("list-number"),n=i[parseInt(s)].getTodos.length;let r=new e(A.value,y.value,f.value,v.value,s,!1,n);i[parseInt(s)].getTodos.push(r),function(t,e){o.push(e);const i=document.createElement("div");i.classList.add("a-todo"),i.setAttribute("list-number",`${e.getListNumber}`),i.setAttribute("todo-number",`${e.getTodoNumber}`),t.appendChild(i);const s=document.createElement("div");s.classList.add("a-list"),i.appendChild(s);const n=document.createElement("div");n.classList.add("description"),n.textContent=e.getDescription,i.appendChild(n);const r=document.createElement("div");r.classList.add("collapse"),i.appendChild(r);const l=document.createElement("div");l.classList.add("left"),s.appendChild(l);const c=document.createElement("div");c.classList.add("right"),s.appendChild(c);const d=document.createElement("img");d.setAttribute("src","icons/plus.png"),d.setAttribute("alt","collapse icon"),r.appendChild(d);const u=document.createElement("input");u.setAttribute("type","checkbox"),u.setAttribute("id","todo-checkbox"),u.setAttribute("name","todo-checkbox"),l.appendChild(u);const a=document.createElement("div");a.textContent=`${e.getTitle} (Due: ${e.getDueDate})`,l.appendChild(a);const m=document.createElement("img");m.setAttribute("src","icons/plus.png"),d.setAttribute("alt","icon img"),m.classList.add("icon"),c.appendChild(m);const p=document.createElement("img");p.setAttribute("src","icons/plus.png"),d.setAttribute("alt","icon img"),p.classList.add("icon"),c.appendChild(p);const b=document.createElement("img");b.setAttribute("src","icons/plus.png"),d.setAttribute("alt","icon img"),b.classList.add("icon"),c.appendChild(b);const h=document.createElement("img");h.setAttribute("src","icons/plus.png"),d.setAttribute("alt","icon img"),h.classList.add("delete"),c.appendChild(h)}(C,r),h.setAttribute("id","hide"),t.target.reset(),console.log(i)},g.onreset=()=>{h.setAttribute("id","hide")},E.onclick=l})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUVsQixNQUFNQyxFQUFRL0MsU0FBU29DLGNBQWMsT0FDckNXLEVBQU03RCxhQUFhLE1BQU8sa0JBQzFCcUUsRUFBWXJFLGFBQWEsTUFBTyxZQUNoQzZELEVBQU10RCxVQUFVNEMsSUFBSSxVQUNwQkksRUFBTUQsWUFBWU8sRUFHdEIsQ0M1Q3VCVyxDQUFvQnRELEVBQVNnRCxHQUdoRDVCLEVBQWF0QyxhQUFhLEtBQU0sUUFDaENLLEVBQUVDLE9BQU8wRCxRQUNUbEMsUUFBUUMsSUFBSSxFQUNoQixFQXlGQVEsRUFBUzBCLFFBQVUsS0FDZjNCLEVBQWF0QyxhQUFhLEtBQU0sT0FBTyxFQUczQ3lDLEVBQWVDLFFBQVV0QyxDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby8uL3NyYy9saXN0LmpzIiwid2VicGFjazovL3RvZG8vLi9zcmMvdG9kby5qcyIsIndlYnBhY2s6Ly90b2RvLy4vc3JjL21hbmFnZUxpc3RJbnRlcmZhY2UuanMiLCJ3ZWJwYWNrOi8vdG9kby8uL3NyYy9tYW5hZ2VUb2RvSW50ZXJmYWNlLmpzIiwid2VicGFjazovL3RvZG8vLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpc3Qge1xuICAgIGNvbnN0cnVjdG9yKHRpdGxlLCB0b2RvcywgbGlzdE51bWJlcikge1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMudG9kb3MgPSB0b2RvcztcbiAgICAgICAgdGhpcy5saXN0TnVtYmVyID0gbGlzdE51bWJlcjtcbiAgICAgICAgLy8gdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcbiAgICAgICAgLy8gdGhpcy5hY3RpdmUgPSBhY3RpdmU7XG4gICAgfVxuXG4gICAgLy8gZ2V0IGdldEFjdGl2ZSgpIHtcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuYWN0aXZlO1xuICAgIC8vIH1cbiAgICAvLyBzZXQgc2V0QWN0aXZlKHZhbHVlKSB7XG4gICAgLy8gICAgIHRoaXMuYWN0aXZlID0gdmFsdWU7XG4gICAgLy8gfVxuXG4gICAgLy8gZ2V0IGdldER1ZURhdGUoKSB7XG4gICAgLy8gICAgIHJldHVybiB0aGlzLmR1ZURhdGU7XG4gICAgLy8gfVxuXG4gICAgLy8gc2V0IHNldER1ZURhdGUodmFsdWUpIHtcbiAgICAvLyAgICAgdGhpcy5kdWVEYXRlID0gdmFsdWU7XG4gICAgLy8gfVxuXG4gICAgZ2V0IGdldExpc3ROdW1iZXIoKSB7cmV0dXJuIHRoaXMubGlzdE51bWJlcn1cblxuICAgIHNldCBzZXRMaXN0TnVtYmVyKHZhbHVlKSB7XG4gICAgICAgIHRoaXMubGlzdE51bWJlciA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBnZXRUaXRsZSgpIHtyZXR1cm4gdGhpcy50aXRsZX1cblxuICAgIGdldCBnZXRUb2RvcygpIHtyZXR1cm4gdGhpcy50b2Rvc31cblxuICAgIHNldCBzZXRUaXRsZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLnRpdGxlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgc2V0IHNldFRvZG9zKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudG9kb3MgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBhZGROZXdMaXN0KHRoZVRvZG8pIHtcbiAgICAgICAgdGhpcy50b2Rvcy5wdXNoKHRoZVRvZG8pO1xuICAgIH1cbn0iLCJcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb2RvIHtcblxuICAgIGNvbnN0cnVjdG9yKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIGxpc3ROdW1iZXIsIGNvbXBsZXRlZCwgdG9kb051bWJlcikge1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgICAgICB0aGlzLmxpc3ROdW1iZXIgPSBsaXN0TnVtYmVyO1xuICAgICAgICB0aGlzLmNvbXBsZXRlZCA9IGNvbXBsZXRlZDtcbiAgICAgICAgdGhpcy50b2RvTnVtYmVyID0gdG9kb051bWJlcjtcbiAgICB9XG5cbiAgICBnZXQgZ2V0VG9kb051bWJlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9kb051bWJlcjtcbiAgICB9XG5cbiAgICBzZXQgc2V0VG9kb051bWJlcih2YWx1ZSkge1xuICAgICAgICB0aGlzLnRvZG9OdW1iZXIgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgZ2V0SXNDb21wbGV0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBsZXRlZDtcbiAgICB9XG5cbiAgICBjaGFuZ2VDb21wbGV0ZVN0YXR1cygpIHtcbiAgICAgICAgaWYgKHRoaXMuY29tcGxldGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGdldExpc3ROdW1iZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3ROdW1iZXI7XG4gICAgfVxuXG4gICAgc2V0IHNldExpc3ROdW1iZXIodmFsdWUpIHtcbiAgICAgICAgdGhpcy5saXN0TnVtYmVyID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IGdldFRpdGxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aXRsZTtcbiAgICB9XG4gICAgZ2V0IGdldERlc2NyaXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZXNjcmlwdGlvbjtcbiAgICB9XG4gICAgZ2V0IGdldER1ZURhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmR1ZURhdGU7XG4gICAgfVxuICAgIGdldCBnZXRQcmlvcml0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJpb3JpdHk7XG4gICAgfVxuXG4gICAgc2V0IHNldFRpdGxlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudGl0bGUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBzZXQgc2V0RGVzY3JpcHRpb24odmFsdWUpIHtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IHZhbHVlO1xuICAgIH1cbiAgICBzZXQgc2V0RHVlRGF0ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLmR1ZURhdGUgPSB2YWx1ZTtcbiAgICB9XG4gICAgc2V0IHNldFByaW9yaXR5KHZhbHVlKSB7XG4gICAgICAgIHRoaXMucHJpb3JpdHkgPSB2YWx1ZTtcbiAgICB9XG59IiwiXG5cbmV4cG9ydCBsZXQgbGlzdHMgPSBbXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZE5ld0xpc3RJbnRlcmZhY2UobGlzdE9iamVjdCwgY29udGFpbmVyLCBpbnNlcnRfYmVmb3JlKSB7XG5cbiAgICBsaXN0cy5wdXNoKGxpc3RPYmplY3QpO1xuXG4gICAgY29uc3QgYUxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBhTGlzdC5jbGFzc0xpc3QuYWRkKCdhLWxpc3QnKTtcbiAgICBhTGlzdC5zZXRBdHRyaWJ1dGUoJ2xpc3QtbnVtYmVyJywgYCR7bGlzdE9iamVjdC5nZXRMaXN0TnVtYmVyfWApO1xuICAgIGFMaXN0LnNldEF0dHJpYnV0ZSgnaWQnLCAnYWN0aXZlLWxpc3QnKTtcbiAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKGFMaXN0LCBpbnNlcnRfYmVmb3JlKTtcblxuXG4gICAgY29uc3QgbGVmdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGxlZnQuY2xhc3NMaXN0LmFkZCgnbGVmdCcpO1xuICAgIGFMaXN0LmFwcGVuZENoaWxkKGxlZnQpO1xuXG4gICAgY29uc3QgcmlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByaWdodC5jbGFzc0xpc3QuYWRkKCdyaWdodCcpO1xuICAgIGFMaXN0LmFwcGVuZENoaWxkKHJpZ2h0KTtcblxuICAgIGNvbnN0IGljb24xID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgaWNvbjEuY2xhc3NMaXN0LmFkZCgnaWNvbicpO1xuICAgIGljb24xLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ljb25zL3BsdXMucG5nJyk7XG4gICAgbGVmdC5hcHBlbmRDaGlsZChpY29uMSk7XG5cbiAgICBjb25zdCBsaXN0VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBsaXN0VGl0bGUuY2xhc3NMaXN0LmFkZCgnbGlzdC10aXRsZScpO1xuICAgIGxpc3RUaXRsZS50ZXh0Q29udGVudCA9IGxpc3RPYmplY3QuZ2V0VGl0bGU7XG4gICAgbGVmdC5hcHBlbmRDaGlsZChsaXN0VGl0bGUpO1xuXG4gICAgY29uc3QgaWNvbjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICBpY29uMi5jbGFzc0xpc3QuYWRkKCdpY29uJyk7XG4gICAgaWNvbjIuc2V0QXR0cmlidXRlKCdzcmMnLCAnaWNvbnMvcGx1cy5wbmcnKTtcbiAgICByaWdodC5hcHBlbmRDaGlsZChpY29uMik7XG5cbiAgICBjb25zdCBpY29uMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIGljb24zLmNsYXNzTGlzdC5hZGQoJ2ljb24nKTtcbiAgICBpY29uMy5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpY29ucy9wbHVzLnBuZycpO1xuICAgIHJpZ2h0LmFwcGVuZENoaWxkKGljb24zKTtcblxuICAgIGNvbnN0IGljb240ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgaWNvbjQuY2xhc3NMaXN0LmFkZCgnaWNvbicpO1xuICAgIGljb240LnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ljb25zL3BsdXMucG5nJyk7XG4gICAgcmlnaHQuYXBwZW5kQ2hpbGQoaWNvbjQpO1xuXG4gICAgY29uc3QgaWNvbjUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICBpY29uNS5jbGFzc0xpc3QuYWRkKCdkZWxldGUnKTtcbiAgICBpY29uNS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpY29ucy9wbHVzLnBuZycpO1xuICAgIHJpZ2h0LmFwcGVuZENoaWxkKGljb241KTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRXhpc3RpbmdNYXJrZXIoY29udGFpbmVyKSB7XG4gICAgY29uc3QgZmlyc3RMaXN0ID0gY29udGFpbmVyLmZpcnN0RWxlbWVudENoaWxkO1xuICAgIGlmIChmaXJzdExpc3QuZ2V0QXR0cmlidXRlKCdpZCcpID09PSAnYWN0aXZlLWxpc3QnKSB7XG4gICAgICAgIGZpcnN0TGlzdC5yZW1vdmVBdHRyaWJ1dGUoJ2lkJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgbmV4dExpc3QgPSBmaXJzdExpc3QubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgaWYgKG5leHRMaXN0LmdldEF0dHJpYnV0ZSgnaWQnKSA9PT0gJ2FjdGl2ZS1saXN0Jyl7XG4gICAgICAgICAgICAgICAgbmV4dExpc3QucmVtb3ZlQXR0cmlidXRlKCdpZCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dExpc3QgPSBuZXh0TGlzdC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVMaXN0c0FuZFRvZG9zKGNvbnRhaW5lciwgbGlzdE51bWJlciwgYWxsVG9kb3MpIHtcbiAgICBsaXN0cy5zcGxpY2UocGFyc2VJbnQobGlzdE51bWJlciksIDEpO1xuICAgIGxldCBpbmRleCA9IDA7XG5cbiAgICAvLyAgdXBkYXRlIGRvbXNcbiAgICBmb3IgKGxldCBsaXN0IG9mIGNvbnRhaW5lcikge1xuICAgICAgICBsaXN0LnJlbW92ZUF0dHJpYnV0ZSgnbGlzdC1udW1iZXInKTtcbiAgICAgICAgbGlzdC5zZXRBdHRyaWJ1dGUoJ2xpc3QtbnVtYmVyJywgYCR7aW5kZXh9YCk7XG4gICAgICAgIGluZGV4Kys7XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIEFycmF5IGFuZCB0b2RvIERPTSdzXG4gICAgbGV0IGFsbFRvZG9JbmRleCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsaXN0c1tpXS5zZXRMaXN0TnVtYmVyID0gaTtcbiAgICAgICAgaWYgKGxpc3RzW2ldLmdldFRvZG9zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0X25vID0gbGlzdHNbaV0uZ2V0TGlzdE51bWJlcjtcbiAgICAgICAgICAgIGZvciAobGV0IHggb2YgbGlzdHNbaV0uZ2V0VG9kb3MpIHtcbiAgICAgICAgICAgICAgICB4LnNldExpc3ROdW1iZXIgPSBpO1xuICAgICAgICAgICAgICAgIGxldCB0aGVET00gPSBhbGxUb2Rvc1thbGxUb2RvSW5kZXhdO1xuICAgICAgICAgICAgICAgIHRoZURPTS5yZW1vdmVBdHRyaWJ1dGUoJ2xpc3QtbnVtYmVyJyk7XG4gICAgICAgICAgICAgICAgdGhlRE9NLnNldEF0dHJpYnV0ZSgnbGlzdC1udW1iZXInLCBgJHtsaXN0X25vfWApO1xuICAgICAgICAgICAgICAgIGFsbFRvZG9JbmRleCsrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuLy8gZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVRvZG9ET00oYWxsVG9kb3MpIHtcbi8vICAgICBsZXQgYWxsVG9kb0luZGV4ID0gMDtcbi8vICAgICBmb3IgKGxldCBsaXN0IG9mIGxpc3RzKSB7XG4vLyAgICAgICAgIGlmIChsaXN0LmdldFRvZG9zLmxlbmd0aCA9PT0gMCkge1xuLy8gICAgICAgICAgICAgY29udGludWU7XG4vLyAgICAgICAgIH1cbi8vICAgICAgICAgZWxzZSB7XG4vLyAgICAgICAgICAgICBjb25zdCBsaXN0TnVtYmVyID0gbGlzdC5nZXRMaXN0TnVtYmVyO1xuLy8gICAgICAgICAgICAgZm9yIChsZXQgdG9kbyBvZiBsaXN0LmdldFRvZG8pIHtcbi8vICAgICAgICAgICAgICAgICBsZXQgdGhlRE9NID0gYWxsVG9kb3NbYWxsVG9kb0luZGV4XTtcbi8vICAgICAgICAgICAgICAgICB0aGVET00ucmVtb3ZlQXR0cmlidXRlKCdsaXN0LW51bWJlcicpO1xuLy8gICAgICAgICAgICAgICAgIHRoZURPTS5zZXRBdHRyaWJ1dGUoJ2xpc3QtbnVtYmVyJywgYCR7bGlzdE51bWJlcn1gKTtcbi8vICAgICAgICAgICAgIH1cbi8vICAgICAgICAgfVxuLy8gICAgIH1cbi8vIH1cblxuXG4vLyA8ZGl2IGNsYXNzPVwiYS1saXN0XCI+XG4vLyAgICAgPGRpdiBjbGFzcz1cImxlZnRcIj5cbi8vICAgICAgICAgPGltZyBjbGFzcz1cImljb25cIiBzcmM9XCJpY29ucy9wbHVzLnBuZ1wiIGFsdD1cInBpY1wiPlxuLy8gICAgICAgICA8ZGl2IGNsYXNzPVwibGlzdC10aXRsZVwiPk15IERheTwvZGl2PlxuLy8gICAgIDwvZGl2PlxuLy8gICAgIDxkaXYgY2xhc3M9XCJyaWdodFwiPlxuLy8gICAgICAgICA8aW1nIGNsYXNzPVwiaWNvblwiIHNyYz1cImljb25zL3BsdXMucG5nXCIgYWx0PVwiRVwiPlxuLy8gICAgICAgICA8aW1nIGNsYXNzPVwiaWNvblwiIHNyYz1cImljb25zL3BsdXMucG5nXCIgYWx0PVwiVVwiPlxuLy8gICAgICAgICA8aW1nIGNsYXNzPVwiaWNvblwiIHNyYz1cImljb25zL3BsdXMucG5nXCIgYWx0PVwiRFwiPlxuLy8gICAgICAgICA8aW1nIGNsYXNzPVwiaWNvblwiIHNyYz1cImljb25zL3BsdXMucG5nXCIgYWx0PVwiRGVsXCI+XG4vLyAgICAgPC9kaXY+XG4vLyA8L2Rpdj5cbiIsIlxuXG5leHBvcnQgbGV0IHRvZG9zID0gW107XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZE5ld1RvZG9JbnRlcmZhY2UoY29udGFpbmVyLCB0aGVUb2RvKSB7XG5cbiAgICAvLyBkZXNjcmlwdGlvbnMgZ29lcyBoZXJlXG5cbiAgICB0b2Rvcy5wdXNoKHRoZVRvZG8pO1xuXG4gICAgY29uc3QgYVRvZG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBhVG9kby5jbGFzc0xpc3QuYWRkKCdhLXRvZG8nKTtcbiAgICBhVG9kby5zZXRBdHRyaWJ1dGUoJ2xpc3QtbnVtYmVyJywgYCR7dGhlVG9kby5nZXRMaXN0TnVtYmVyfWApO1xuICAgIGFUb2RvLnNldEF0dHJpYnV0ZSgndG9kby1udW1iZXInLCBgJHt0aGVUb2RvLmdldFRvZG9OdW1iZXJ9YCk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGFUb2RvKTtcblxuICAgIGNvbnN0IGFMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgYUxpc3QuY2xhc3NMaXN0LmFkZCgnYS1saXN0Jyk7XG4gICAgYVRvZG8uYXBwZW5kQ2hpbGQoYUxpc3QpO1xuXG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkZXNjcmlwdGlvbi5jbGFzc0xpc3QuYWRkKCdkZXNjcmlwdGlvbicpO1xuICAgIGRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gdGhlVG9kby5nZXREZXNjcmlwdGlvbjtcbiAgICBhVG9kby5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbik7XG5cbiAgICBjb25zdCBjb2xsYXBzZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbGxhcHNlLmNsYXNzTGlzdC5hZGQoJ2NvbGxhcHNlJyk7XG4gICAgYVRvZG8uYXBwZW5kQ2hpbGQoY29sbGFwc2UpO1xuXG4gICAgY29uc3QgbGVmdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGxlZnQuY2xhc3NMaXN0LmFkZCgnbGVmdCcpO1xuICAgIGFMaXN0LmFwcGVuZENoaWxkKGxlZnQpO1xuXG4gICAgY29uc3QgcmlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByaWdodC5jbGFzc0xpc3QuYWRkKCdyaWdodCcpO1xuICAgIGFMaXN0LmFwcGVuZENoaWxkKHJpZ2h0KTtcblxuICAgIGNvbnN0IGNvbGxhcHNlSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgY29sbGFwc2VJbWcuc2V0QXR0cmlidXRlKCdzcmMnLCAnaWNvbnMvcGx1cy5wbmcnKTtcbiAgICBjb2xsYXBzZUltZy5zZXRBdHRyaWJ1dGUoJ2FsdCcsICdjb2xsYXBzZSBpY29uJyk7XG4gICAgY29sbGFwc2UuYXBwZW5kQ2hpbGQoY29sbGFwc2VJbWcpO1xuXG4gICAgY29uc3QgaW5wdXQxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBpbnB1dDEuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2NoZWNrYm94Jyk7XG4gICAgaW5wdXQxLnNldEF0dHJpYnV0ZSgnaWQnLCAndG9kby1jaGVja2JveCcpO1xuICAgIGlucHV0MS5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAndG9kby1jaGVja2JveCcpO1xuICAgIC8vIGlucHV0MS5jbGFzc0xpc3QuYWRkKCdpY29uJyk7XG4gICAgbGVmdC5hcHBlbmRDaGlsZChpbnB1dDEpO1xuXG4gICAgY29uc3QgdGl0bGVUb2RvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGl0bGVUb2RvLnRleHRDb250ZW50ID0gYCR7dGhlVG9kby5nZXRUaXRsZX0gKER1ZTogJHt0aGVUb2RvLmdldER1ZURhdGV9KWA7XG4gICAgbGVmdC5hcHBlbmRDaGlsZCh0aXRsZVRvZG8pO1xuXG4gICAgY29uc3QgaWNvbjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICBpY29uMi5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpY29ucy9wbHVzLnBuZycpO1xuICAgIGNvbGxhcHNlSW1nLnNldEF0dHJpYnV0ZSgnYWx0JywgJ2ljb24gaW1nJyk7XG4gICAgaWNvbjIuY2xhc3NMaXN0LmFkZCgnaWNvbicpO1xuICAgIHJpZ2h0LmFwcGVuZENoaWxkKGljb24yKTtcblxuICAgIGNvbnN0IGljb24zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgaWNvbjMuc2V0QXR0cmlidXRlKCdzcmMnLCAnaWNvbnMvcGx1cy5wbmcnKTtcbiAgICBjb2xsYXBzZUltZy5zZXRBdHRyaWJ1dGUoJ2FsdCcsICdpY29uIGltZycpO1xuICAgIGljb24zLmNsYXNzTGlzdC5hZGQoJ2ljb24nKTtcbiAgICByaWdodC5hcHBlbmRDaGlsZChpY29uMyk7XG5cbiAgICBjb25zdCBpY29uNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIGljb240LnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ljb25zL3BsdXMucG5nJyk7XG4gICAgY29sbGFwc2VJbWcuc2V0QXR0cmlidXRlKCdhbHQnLCAnaWNvbiBpbWcnKTtcbiAgICBpY29uNC5jbGFzc0xpc3QuYWRkKCdpY29uJyk7XG4gICAgcmlnaHQuYXBwZW5kQ2hpbGQoaWNvbjQpO1xuXG4gICAgY29uc3QgaWNvbjUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICBpY29uNS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpY29ucy9wbHVzLnBuZycpO1xuICAgIGNvbGxhcHNlSW1nLnNldEF0dHJpYnV0ZSgnYWx0JywgJ2ljb24gaW1nJyk7XG4gICAgaWNvbjUuY2xhc3NMaXN0LmFkZCgnZGVsZXRlJyk7XG4gICAgcmlnaHQuYXBwZW5kQ2hpbGQoaWNvbjUpO1xuXG4gICAgcmV0dXJuIGFUb2RvO1xufVxuXG5cbi8vIGNoYW5nZSB0b2RvIGhlYWRlclxuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZVRvZG9IZWFkZXIodG9kb0hlYWRlciwgbGlzdE51bWJlciwgdGl0bGUpIHtcbiAgICB0b2RvSGVhZGVyLnNldEF0dHJpYnV0ZSgnbGlzdC1udW1iZXInLCBgJHtsaXN0TnVtYmVyfWApO1xuICAgIHRvZG9IZWFkZXIuZmlyc3RFbGVtZW50Q2hpbGQudGV4dENvbnRlbnQgPSB0aXRsZTtcbn1cblxuLy8gc2hvdyBhbGwgdG9kb3Mgb2YgYSBwYXJ0aWN1bGFyIGxpc3RcbmV4cG9ydCBmdW5jdGlvbiBzaG93TGlzdHNUb2RvcyhhbGxUb2RvcywgbGlzdE51bWJlcikge1xuICAgIC8vIG1ldGhvZCBkZXNjcmlwdGlvbiBnb2VzIGhlcmVcbiAgICBpZiAoYWxsVG9kb3MgPT09IG51bGwpIHJldHVyblxuICAgIGZvciAobGV0IHRvZG8gb2YgYWxsVG9kb3MpIHtcbiAgICAgICAgaWYgKHRvZG8uZ2V0QXR0cmlidXRlKCdsaXN0LW51bWJlcicpID09PSBsaXN0TnVtYmVyKSB7XG4gICAgICAgICAgICB0b2RvLnJlbW92ZUF0dHJpYnV0ZSgnaWQnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRvZG8uc2V0QXR0cmlidXRlKCdpZCcsICdoaWRlJyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZVJlbGF0ZWRUb2RvKGNvbnRhaW5lciwgYWxsVG9kb3MsIGxpc3ROdW1iZXIpe1xuICAgIGZvciAobGV0IHRvZG8gb2YgYWxsVG9kb3MpIHtcbiAgICAgICAgY29uc3QgbGlzdF9udW0gPSB0b2RvLmdldEF0dHJpYnV0ZSgnbGlzdC1udW1iZXInKTtcbiAgICAgICAgaWYgKGxpc3RfbnVtID09PSBsaXN0TnVtYmVyKSB7XG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQodG9kbyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuLy8gZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVRvZG9ET00oYW5BcnJheSkge1xuLy8gICAgIGZvciAobGV0IHggb2YgYW5BcnJheSkge1xuICAgICAgICBcbi8vICAgICB9XG4vLyB9XG5cbi8vIDxkaXYgY2xhc3M9XCJhLXRvZG9cIj5cbi8vICAgICA8ZGl2IGNsYXNzPVwiYS1saXN0XCI+XG4vLyAgICAgICAgIDxkaXYgY2xhc3M9XCJsZWZ0XCI+XG4vLyAgICAgICAgICAgICA8aW1nIGNsYXNzPVwiaWNvblwiIHNyYz1cImljb25zL3BsdXMucG5nXCIgYWx0PVwiXCI+XG4vLyAgICAgICAgICAgICA8ZGl2Pm5hbWUgb2YgdGhlIHRvZG88L2Rpdj5cbi8vICAgICAgICAgPC9kaXY+XG4vLyAgICAgICAgIDxkaXYgY2xhc3M9XCJyaWdodFwiPlxuLy8gICAgICAgICAgICAgPGltZyBjbGFzcz1cImljb25cIiBzcmM9XCJpY29ucy9wbHVzLnBuZ1wiIGFsdD1cIkVcIj5cbi8vICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJpY29uXCIgc3JjPVwiaWNvbnMvcGx1cy5wbmdcIiBhbHQ9XCJVXCI+XG4vLyAgICAgICAgICAgICA8aW1nIGNsYXNzPVwiaWNvblwiIHNyYz1cImljb25zL3BsdXMucG5nXCIgYWx0PVwiRFwiPlxuLy8gICAgICAgICAgICAgPGltZyBjbGFzcz1cImljb25cIiBzcmM9XCJpY29ucy9wbHVzLnBuZ1wiIGFsdD1cIkRlbFwiPlxuLy8gICAgICAgICA8L2Rpdj5cbi8vICAgICA8L2Rpdj5cbi8vICAgICA8ZGl2IGNsYXNzPVwiZGVzY3JpcHRpb25cIiBpZD1cImhpZGVcIj5Mb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gRXNzZSBpcHNhbSBmdWdpYXQgZXVtIGhpYyBpcHN1bSBkb2xvcnVtIGJsYW5kaXRpaXMgaXVzdG8gZGVsZW5pdGkgcGVyZmVyZW5kaXMgZW5pbSBuaXNpIGFkaXBpc2NpIGl1cmUgbmF0dXMgYWQgbWF4aW1lLCBhbWV0LCBjb3Jwb3JpcyBxdWlidXNkYW0gYWxpcXVhbSE8L2Rpdj5cbi8vICAgICA8ZGl2IGNsYXNzPVwiY29sbGFwc2VcIj5cbi8vICAgICAgICAgPGltZyBzcmM9XCJpY29ucy9wbHVzLnBuZ1wiIGFsdD1cImNvbGxhcHNlIGljb25cIj5cbi8vICAgICA8L2Rpdj5cbi8vIDwvZGl2PlxuXG4iLCJpbXBvcnQgTGlzdCBmcm9tICcuL2xpc3QnXG5pbXBvcnQgVG9kbyBmcm9tICcuL3RvZG8nXG5pbXBvcnQge2xpc3RzLCBhZGROZXdMaXN0SW50ZXJmYWNlLCByZW1vdmVFeGlzdGluZ01hcmtlciwgdXBkYXRlTGlzdHNBbmRUb2Rvc30gZnJvbSAnLi9tYW5hZ2VMaXN0SW50ZXJmYWNlJ1xuaW1wb3J0IHthZGROZXdUb2RvSW50ZXJmYWNlLCBjaGFuZ2VUb2RvSGVhZGVyLCBzaG93TGlzdHNUb2RvcywgZGVsZXRlUmVsYXRlZFRvZG99IGZyb20gJy4vbWFuYWdlVG9kb0ludGVyZmFjZSdcblxuXG5mdW5jdGlvbiBhZGRMaXN0KGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAvLyBtYW5hZ2UgQXJyYXkgb2YgbGlzdHNcbiAgICBsZXQgbmV3TGlzdCA9IG5ldyBMaXN0KG5ld0xpc3RpbnB1dC52YWx1ZSwgW10sIGxpc3RzLmxlbmd0aCk7XG4gICAgcmVtb3ZlRXhpc3RpbmdNYXJrZXIoYWxsTGlzdCk7XG4gICAgYWRkTmV3TGlzdEludGVyZmFjZShuZXdMaXN0LCBhbGxMaXN0LCBuZXdMaXN0TW9kYWwsIHRvZG9IZWFkZXIpO1xuICAgIGNvbnN0IGFsbFRvZG9zID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYS10b2RvJykpO1xuXG4gICAgLy8gbWFuYWdlIHRvZG8gaW50ZXJmYWNlXG4gICAgY2hhbmdlVG9kb0hlYWRlcih0b2RvSGVhZGVyLCBuZXdMaXN0LmdldExpc3ROdW1iZXIsIG5ld0xpc3QuZ2V0VGl0bGUpO1xuICAgIHNob3dMaXN0c1RvZG9zKGFsbFRvZG9zLCBuZXdMaXN0LmdldExpc3ROdW1iZXIpO1xuICAgIGNvbnN0IG5ld0xpc3RET00gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWN0aXZlLWxpc3QnKTtcbiAgICBuZXdMaXN0RE9NLm9uY2xpY2sgPSBtYWtlTGlzdEFjdGl2ZTtcbiAgICBlLnRhcmdldC5yZXNldCgpO1xuICAgIG5ld0xpc3RNb2RhbC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2hpZGUnKTtcbiAgICBjb25zb2xlLmxvZyhsaXN0cyk7XG59XG5cblxuZnVuY3Rpb24gYWRkX2FfVG9kbyhlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgLy8gbWFuYWdlIEFycmF5IG9mIGxpc3RzXG4gICAgY29uc3QgbGlzdE51bWJlciA9IHRvZG9IZWFkZXIuZ2V0QXR0cmlidXRlKCdsaXN0LW51bWJlcicpO1xuICAgIGNvbnN0IHRvZG9OdW1iZXIgPSBsaXN0c1twYXJzZUludChsaXN0TnVtYmVyKV0uZ2V0VG9kb3MubGVuZ3RoO1xuICAgIGxldCBuZXdUb2RvID0gbmV3IFRvZG8odG9kb05hbWUudmFsdWUsIGRlc2NyaXB0aW9uLnZhbHVlLCBkdWVEYXRlLnZhbHVlLCBwcmlvcml0eS52YWx1ZSwgbGlzdE51bWJlciwgZmFsc2UsIHRvZG9OdW1iZXIpO1xuICAgIGxpc3RzW3BhcnNlSW50KGxpc3ROdW1iZXIpXS5nZXRUb2Rvcy5wdXNoKG5ld1RvZG8pO1xuXG5cbiAgICAvLyBicmluZyB0aGUgdG9kbyBpbnRlcmZhY2VcbiAgICBjb25zdCBuZXdUb2RvRE9NID0gYWRkTmV3VG9kb0ludGVyZmFjZShhbGxUb2RvLCBuZXdUb2RvKTtcblxuICAgIC8vIGhpZGUgbW9kYWxcbiAgICBuZXdUb2RvTW9kYWwuc2V0QXR0cmlidXRlKCdpZCcsICdoaWRlJyk7XG4gICAgZS50YXJnZXQucmVzZXQoKTtcbiAgICBjb25zb2xlLmxvZyhsaXN0cyk7XG59XG5cblxuZnVuY3Rpb24gbWFrZUxpc3RBY3RpdmUoZSkge1xuICAgIC8vIGhhbmRsZSBkZWxldGUsIHVwLCBkb3duLCBjb21wbGV0ZVxuICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QudmFsdWUgPT09ICdkZWxldGUnKSB7XG4gICAgICAgIGRlbGV0ZUVsZW1lbnQodGhpcyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZW1vdmVFeGlzdGluZ01hcmtlcihhbGxMaXN0KTtcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2FjdGl2ZS1saXN0Jyk7XG4gICAgICAgIFxuICAgICAgICAvLyBnZXQgdGhlIGxpc3RPYmplY3RcbiAgICAgICAgbGV0IGxpc3ROdW1iZXIgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2xpc3QtbnVtYmVyJyk7XG4gICAgICAgIGNoYW5nZVRvZG9IZWFkZXIodG9kb0hlYWRlciwgbGlzdE51bWJlciwgdGhpcy5maXJzdEVsZW1lbnRDaGlsZC5sYXN0RWxlbWVudENoaWxkLnRleHRDb250ZW50KTtcbiAgICAgICAgY29uc3QgYWxsVG9kb3MgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hLXRvZG8nKSk7XG4gICAgICAgIHNob3dMaXN0c1RvZG9zKGFsbFRvZG9zLCBsaXN0TnVtYmVyKTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhsaXN0cyk7XG59XG5cbmZ1bmN0aW9uIHNob3dSZWxhdGVkVG9kb3MoeCwgbGlzdE5vKXtcbiAgICBpZiAobGlzdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAoaW5kZXggPT09IGAke2xpc3RzLmxlbmd0aC0xfWApIHtcbiAgICAgICAgc2hvd0xpc3RzVG9kb3MoeCwgYCR7cGFyc2VJbnQoaW5kZXgpLTF9YCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzaG93TGlzdHNUb2Rvcyh4LCBgJHtwYXJzZUludChpbmRleCktMX1gKTtcbiAgICB9XG59XG5cblxuZnVuY3Rpb24gZGVsZXRlRWxlbWVudChlbGVtZW50KSB7XG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LnZhbHVlID09PSAnYS1saXN0Jykge1xuICAgICAgICBjb25zdCBpbmRleCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdsaXN0LW51bWJlcicpO1xuICAgICAgICAvLyByZW1vdmVFeGlzdGluZ01hcmtlcihhbGxMaXN0KTtcbiAgICAgICAgYWxsTGlzdC5yZW1vdmVDaGlsZChlbGVtZW50KVxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hLWxpc3QnKSk7XG4gICAgICAgIGxldCB4ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWxsLXRvZG8gLmEtdG9kbycpKTtcbiAgICAgICAgZGVsZXRlUmVsYXRlZFRvZG8oYWxsVG9kbywgeCwgaW5kZXgpO1xuICAgICAgICB4ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWxsLXRvZG8gLmEtdG9kbycpKTtcbiAgICAgICAgdXBkYXRlTGlzdHNBbmRUb2Rvcyhjb250YWluZXIsIGluZGV4LCB4KTtcbiAgICAgICAgaWYgKGluZGV4ID09PSBgJHtsaXN0cy5sZW5ndGgtMX1gKSB7XG4gICAgICAgICAgICBzaG93TGlzdHNUb2Rvcyh4LCBpbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuLy8gQWRkaW5nIGRlZmF1bHQgbGlzdFxubGV0IGRlZmF1bHRMaXN0ID0gbmV3IExpc3QoJ015IERheScsIFtdLCAwKTtcbmxpc3RzLnB1c2goZGVmYXVsdExpc3QpO1xuXG4vLyBBbGwgZ2xvYmFsIHZhcmlhYmxlcyBhbmQgZXZlbnRMaXN0ZW5lcnNcbmNvbnN0IGFsbExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWxsLWxpc3QnKTtcbmNvbnN0IG5ld0xpc3RpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsaXN0LW5hbWUnKTtcbmNvbnN0IGxpc3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxpc3QtZm9ybScpO1xuY29uc3QgYWRkTmV3TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtbmV3LWxpc3QnKTtcbmNvbnN0IG5ld0xpc3RNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXctbGlzdC1tb2RhbCcpO1xuY29uc3QgYWRkVG9kbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtdG9kbycpO1xuY29uc3QgbmV3VG9kb01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5ldy10b2RvLW1vZGFsJyk7XG5jb25zdCB0b2RvRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLWZvcm0nKTtcbmNvbnN0IHRvZG9OYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvZG8tbmFtZScpO1xuY29uc3QgZHVlRGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkdWUtZGF0ZScpO1xuY29uc3QgcHJpb3JpdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJpb3JpdHknKTtcbmNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rlc2NyaXB0aW9uJyk7XG5jb25zdCBhbGxUb2RvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsbC10b2RvJyk7XG5jb25zdCB0b2RvSGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8taGVhZGVyJyk7XG5cbmNvbnN0IGRlZmF1bHRMaXN0RE9NID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsbC1saXN0IC5hLWxpc3QnKTtcblxuYWRkVG9kby5vbmNsaWNrID0gKCkgPT4ge1xuICAgIG5ld1RvZG9Nb2RhbC5yZW1vdmVBdHRyaWJ1dGUoJ2lkJyk7XG59XG5cbmFkZE5ld0xpc3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgbmV3TGlzdE1vZGFsLnJlbW92ZUF0dHJpYnV0ZSgnaWQnKTtcbn0pXG5cblxubGlzdEZvcm0ub25zdWJtaXQgPSBhZGRMaXN0O1xubGlzdEZvcm0ub25yZXNldCA9ICgpID0+IHtcbiAgICBuZXdMaXN0TW9kYWwuc2V0QXR0cmlidXRlKCdpZCcsICdoaWRlJyk7XG59XG5cbnRvZG9Gb3JtLm9uc3VibWl0ID0gYWRkX2FfVG9kbztcbnRvZG9Gb3JtLm9ucmVzZXQgPSAoKSA9PiB7XG4gICAgbmV3VG9kb01vZGFsLnNldEF0dHJpYnV0ZSgnaWQnLCAnaGlkZScpO1xufVxuXG5kZWZhdWx0TGlzdERPTS5vbmNsaWNrID0gbWFrZUxpc3RBY3RpdmU7Il0sIm5hbWVzIjpbIkxpc3QiLCJjb25zdHJ1Y3RvciIsInRpdGxlIiwidG9kb3MiLCJsaXN0TnVtYmVyIiwidGhpcyIsImdldExpc3ROdW1iZXIiLCJzZXRMaXN0TnVtYmVyIiwidmFsdWUiLCJnZXRUaXRsZSIsImdldFRvZG9zIiwic2V0VGl0bGUiLCJzZXRUb2RvcyIsImFkZE5ld0xpc3QiLCJ0aGVUb2RvIiwicHVzaCIsIlRvZG8iLCJkZXNjcmlwdGlvbiIsImR1ZURhdGUiLCJwcmlvcml0eSIsImNvbXBsZXRlZCIsInRvZG9OdW1iZXIiLCJnZXRUb2RvTnVtYmVyIiwic2V0VG9kb051bWJlciIsImdldElzQ29tcGxldGVkIiwiY2hhbmdlQ29tcGxldGVTdGF0dXMiLCJnZXREZXNjcmlwdGlvbiIsImdldER1ZURhdGUiLCJnZXRQcmlvcml0eSIsInNldERlc2NyaXB0aW9uIiwic2V0RHVlRGF0ZSIsInNldFByaW9yaXR5IiwicmVtb3ZlRXhpc3RpbmdNYXJrZXIiLCJjb250YWluZXIiLCJmaXJzdExpc3QiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImdldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsIm5leHRMaXN0IiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiY2hhbmdlVG9kb0hlYWRlciIsInRvZG9IZWFkZXIiLCJzZXRBdHRyaWJ1dGUiLCJ0ZXh0Q29udGVudCIsImFsbFRvZG9zIiwidG9kbyIsIm1ha2VMaXN0QWN0aXZlIiwiZSIsInRhcmdldCIsImNsYXNzTGlzdCIsImVsZW1lbnQiLCJpbmRleCIsImFsbExpc3QiLCJyZW1vdmVDaGlsZCIsIkFycmF5IiwiZnJvbSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsIngiLCJkZWxldGVSZWxhdGVkVG9kbyIsImFsbFRvZG8iLCJzcGxpY2UiLCJwYXJzZUludCIsImxpc3QiLCJhbGxUb2RvSW5kZXgiLCJpIiwibGVuZ3RoIiwibGlzdF9ubyIsInRoZURPTSIsInVwZGF0ZUxpc3RzQW5kVG9kb3MiLCJkZWxldGVFbGVtZW50IiwibGFzdEVsZW1lbnRDaGlsZCIsImNvbnNvbGUiLCJsb2ciLCJkZWZhdWx0TGlzdCIsInF1ZXJ5U2VsZWN0b3IiLCJuZXdMaXN0aW5wdXQiLCJsaXN0Rm9ybSIsIm5ld0xpc3RNb2RhbCIsImFkZFRvZG8iLCJuZXdUb2RvTW9kYWwiLCJ0b2RvRm9ybSIsInRvZG9OYW1lIiwiZGVmYXVsdExpc3RET00iLCJvbmNsaWNrIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uc3VibWl0IiwicHJldmVudERlZmF1bHQiLCJuZXdMaXN0IiwibGlzdE9iamVjdCIsImluc2VydF9iZWZvcmUiLCJhTGlzdCIsImNyZWF0ZUVsZW1lbnQiLCJhZGQiLCJpbnNlcnRCZWZvcmUiLCJsZWZ0IiwiYXBwZW5kQ2hpbGQiLCJyaWdodCIsImljb24xIiwibGlzdFRpdGxlIiwiaWNvbjIiLCJpY29uMyIsImljb240IiwiaWNvbjUiLCJhZGROZXdMaXN0SW50ZXJmYWNlIiwiZ2V0RWxlbWVudEJ5SWQiLCJyZXNldCIsIm9ucmVzZXQiLCJuZXdUb2RvIiwiYVRvZG8iLCJjb2xsYXBzZSIsImNvbGxhcHNlSW1nIiwiaW5wdXQxIiwidGl0bGVUb2RvIiwiYWRkTmV3VG9kb0ludGVyZmFjZSJdLCJzb3VyY2VSb290IjoiIn0=